#+TITLE:
#+AUTHOR: Bob Mottram
#+EMAIL: bob@freedombone.net
#+KEYWORDS: freedombone, beaglebone
#+DESCRIPTION: How to install Freedombone onto a Beaglebone Black
#+OPTIONS: ^:nil toc:nil
#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="freedombone.css" />

#+BEGIN_CENTER
[[file:images/logo.png]]
#+END_CENTER

#+BEGIN_EXPORT html
<center>
<h1>Installing Freedombone on a Beaglebone Black</h1>
</center>
#+END_EXPORT

The Beaglebone Black is small, cheap, a fully open hardware design, has a hardware random number generator and consumes very little electrical power, making it suitable for all kinds of uses.

You can easily use one to run your own internet services from home.

#+BEGIN_CENTER
[[file:images/bbb_above.jpg]]
#+END_CENTER

You will need:

 * A Beaglebone Black. The exact revision of the hardware isn't very important, but it should have an ethernet socket.
 * Optionally a plastic or metal case to protect the electronics.
 * An ethernet cable. Typically these are colour coded either blue or yellow. Either colour will do.
 * Either a 5v power supply with 5.5mm barrel plug, or a USB cable and USB to mains adaptor.
 * A microSD card at least 8 gigabytes in size. In tests Sandisk class 10 works well. Prefer smaller but faster I/O rating to larger but slower.
 * A microSD card adaptor for your laptop or desktop system, so that you can copy the disk image to the card.

On your laptop or desktop prepare a microSD card image as follows. To create an image on a Debian based system:

#+begin_src bash
sudo apt-get install git
git clone https://github.com/bashrc/freedombone
cd freedombone
git checkout stockholm
sudo make install
freedombone-image --setup debian
#+end_src

Or on Arch/Parabola:

#+begin_src bash
sudo pacman -S git
git clone https://github.com/bashrc/freedombone
cd freedombone
git checkout stockholm
sudo make install
freedombone-image --setup parabola
#+end_src

If you own a domain name and want to make a system accessible via an ordinary browser then run:

#+begin_src
freedombone-image -t beaglebone
#+end_src

Or of you want a system where the services are only accessible via onion addresses.

#+begin_src
freedombone-image -t beaglebone --onion yes
#+end_src

Onion addresses have the advantage of being difficult to censor and you don't need to buy a domain or have a dynamic DNS account. An onion based system also means you don't need to think about NAT traversal type issues.

Connect the power and ethernet cable and plug it into your internet router.

#+BEGIN_CENTER
[[file:images/bbb_back.jpg]]
#+END_CENTER

Now follow the [[./homeserver.html][instructions given here to copy the image to the microSD drive]] beginning with running the /freedombone-client/ command. Wherever it says "USB drive" substitute "microSD drive". When the microSD drive is ready plug it into the front of the Beaglebone.

#+BEGIN_CENTER
[[file:images/bbb_front.jpg]]
#+END_CENTER

Now power cycle by removing the power plug and then inserting it again. It should boot from the microSD drive and you should see the blue LEDs on the board flashing. If they don't fash at all for a few minutes then try copying the image to the microSD card again.

Follow the rest of the [[./homeserver.html][instructions given here]] to log in via ssh and install the system. The microSD drive /should remain inside the Beaglebone/ and not be removed. This will be its main drive, with the internal EMMC not being used at all.

There are many apps available within the Freedombone system and trying to install them all is probably not a good idea, since this hardware is very resource constrained on CPU and especially on RAM. If the system seems to be becoming unstable and crashing then the most likely cause is running out of RAM, in which case you can try uninstalling some apps. It is possible to monitor RAM usage by logging in with ssh, exiting to the command line and then running the /top/ command.
