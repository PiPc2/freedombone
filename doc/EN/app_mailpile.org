#+TITLE:
#+AUTHOR: Bob Mottram
#+EMAIL: bob@freedombone.net
#+KEYWORDS: freedombone, mailpile
#+DESCRIPTION: How to use Mailpile
#+OPTIONS: ^:nil toc:nil
#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="freedombone.css" />

#+BEGIN_CENTER
[[file:images/logo.png]]
#+END_CENTER

#+BEGIN_EXPORT html
<center>
<h1>Mailpile</h1>
</center>
#+END_EXPORT

Mailpile provides a nice looking webmail interface suitable for use on desktop or mobile clients. It has pretty good support for email encryption and makes that quite an easy process. At present it's usable but still has some bugs and limitations. If you need a fully functional email client with comprehensive encryption support then either use Mutt or Thunderbird/Icedove.

An advantage of this type of webmail is that /it keeps your GPG keys off of any mobile devices/ so that if you lose your phone, or it gets stolen, then your email might still not be compromised.

One down side is that this appears to be a single user system, so if you have multiple users on your Freedombone server only the administrator will actually be able to use mailpile.

* Setup

If you're viewing your mail domain site on a mobile device via OrFox then make sure you allow the domain in the NoScript settings.

Enter a password and store it within a password manager.

Click on the *Privacy and Security* button.

Scroll down and select *Save Settings*. Don't click on the Tor button.

Click *Add account*.

Enter your name, email address and password.

Uncheck *Detect Settings* and click *Next*.

Under *Sending Mail* select *local*, then click *Next*.

Under *Receiving files* select *IMAP/TLS*, your main domain name, port *993*, your username and password, then click *Next*.

Under *Security and Privacy* click *Next*.

Click on *Inbox* and then select *Browse for mailboxes*. If you have a lot of mail then this can take quite a long time. Meanwhile you can giggle at the messages under *Working...*.

* Importing existing GPG keys

Unfortunately this is broken in the current Mailpile version, so you can't import keys. But when it works this is probably how it will work:

ssh into the Freedombone with:

#+begin_src bash
ssh username@maindomainname -p 2222
#+end_src

Select *My encryption keys*

Select *Show full PGP/GPG key*. Select the text of the full key and copy it, then paste it into a file on your local system.

In a browser navigate to *yourmailpiledomain/contacts*

Select *import encryption keys* followed by *upload key*

Click *select encryption key* then choose the file you previously saved.
