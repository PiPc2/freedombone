<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2016-08-08 Mon 17:51 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title></title>
<meta name="generator" content="Org-mode" />
<meta name="author" content="Bob Mottram" />
<meta name="description" content="Turn the Beaglebone Black into a personal communications server"
 />
<meta name="keywords" content="freedombox, debian, beaglebone, hubzilla, email, web server, home server, internet, censorship, surveillance, social network, irc, jabber" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="freedombone.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="preamble" class="status">
<a name="top" id="top"></a>
</div>
<div id="content">
<div class="org-center">

<div class="figure">
<p><img src="images/logo.png" alt="logo.png" />
</p>
</div>
</div>

<center>
<h1>Usage</h1>
</center>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><a href="#orgba67d9d">Readme</a></td>
</tr>

<tr>
<td class="org-left"><a href="#orgfc8e280">Improving ssh security</a></td>
</tr>

<tr>
<td class="org-left"><a href="#org6868ae6">Administrating the system via an onion address (Tor)</a></td>
</tr>

<tr>
<td class="org-left"><a href="./mobile.html">Mobile advice</a></td>
</tr>

<tr>
<td class="org-left"><a href="./usage_email.html">Using Email</a></td>
</tr>

<tr>
<td class="org-left"><a href="#org7281e1b">Syncing to the Cloud</a></td>
</tr>

<tr>
<td class="org-left"><a href="#org4a27bbe">Play Music</a></td>
</tr>

<tr>
<td class="org-left"><a href="#orgc7703b6">Microblogging (GNU Social)</a></td>
</tr>

<tr>
<td class="org-left"><a href="#orgf413e9b">Sharing things</a></td>
</tr>

<tr>
<td class="org-left"><a href="#orgfa5f6b3">Social Network</a></td>
</tr>

<tr>
<td class="org-left"><a href="#orgdde6751">Chat Services</a></td>
</tr>

<tr>
<td class="org-left"><a href="#org97c5393">RSS Reader</a></td>
</tr>

<tr>
<td class="org-left"><a href="#org7da20bd">Git Projects</a></td>
</tr>

<tr>
<td class="org-left"><a href="#orgb5097c3">Adding or removing users</a></td>
</tr>
</tbody>
</table>

<div id="outline-container-orgba67d9d" class="outline-2">
<h2 id="orgba67d9d">Readme</h2>
<div class="outline-text-2" id="text-orgba67d9d">
<p>
After the system has installed a README file will be generated which contains passwords and some brief advice on using the installed systems. You can read this with the following commands:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
emacs ~/README
</pre>
</div>

<p>
You should transfer any passwords to a password manager such as <a href="https://www.keepassx.org/">KeepassX</a> and then delete them from the README file. To save the file after removing passwords use <b>CTRL-x CTRL-s</b>.
</p>

<p>
To exit you can either just close the terminal or use <b>CTRL-x CTRL-c</b> followed by the <b>exit</b> command.
</p>
</div>
</div>
<div id="outline-container-orgfc8e280" class="outline-2">
<h2 id="orgfc8e280">Improving ssh security</h2>
<div class="outline-text-2" id="text-orgfc8e280">
<p>
To improve ssh security you can generate an ssh key pair on your system and then upload the public key to the Freedombone.
</p>

<p>
On your local machine:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh-keygen
</pre>
</div>

<p>
For extra security you may also want to add a passphrase to the ssh private key. You can show the generated public key with:
</p>

<div class="org-src-container">

<pre class="src src-bash">cat ~/.ssh/id_rsa.pub
</pre>
</div>

<p>
Log into your system and open the control panel.
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domain -p 2222
</pre>
</div>

<p>
Select <i>Administrator controls</i> then <i>Manage Users</i> then <i>Change user ssh public key</i>. Copy and paste the public key here, then exit.
</p>

<p>
It's a good idea to also copy the contents of <b>~/.ssh/id_rsa</b> and <b>~/.ssh/id_rsa.pub</b> to you password manager, together with the private key password if you created one.
</p>

<p>
There are advantages and disadvantages to using ssh keys for logins. The advantage is that this is much more secure than a memorised password, but the disadvantage is that you need to carry your ssh keys around and be able to install them on any computer of mobile device that you use. In high security or hostile infosec environments it may not be possible to carry or use USB thumb drives containing your keys and so memorised passwords may be the only available choice.
</p>

<p>
If you wish to only use ssh keys then log in to the Freedombone, become the root user and open the control panel with the 'control' command. Select <i>Security Settings</i> then keep hitting enter until you reach the question about allowing password logins. Select "no" for that, then apply the settings. Any subsequent attempts to log in via a password will then be denied.
</p>
</div>
</div>

<div id="outline-container-org6868ae6" class="outline-2">
<h2 id="org6868ae6">Administrating the system via an onion address (Tor)</h2>
<div class="outline-text-2" id="text-org6868ae6">
<p>
You can also access your system via the Tor system using an onion address. To find out what the onion address for ssh access is you can do the following:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@freedombone.local -p 2222
</pre>
</div>

<p>
Select <i>Administrator controls</i> then select "About this system" and look for the onion address for ssh. You can then close the terminal and open another, then do the following on your local system:
</p>

<div class="org-src-container">

<pre class="src src-bash">freedombone-client
</pre>
</div>

<p>
This will set up your ssh environment to be able to handle onion addresses. In addition if you use monkeysphere then you can do:
</p>

<div class="org-src-container">

<pre class="src src-bash">freedombone-client --ms yes
</pre>
</div>

<p>
Then you can test ssh with:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@address.onion -p 2222
</pre>
</div>

<p>
Subsequently even if dynamic DNS isn't working you may still be able to administer your system. Using the onion address also gives you some degree of protection against corporate or government metadata analysis, since it becomes more difficult to passively detect which systems are communicating.
</p>
</div>
</div>
<div id="outline-container-org7281e1b" class="outline-2">
<h2 id="org7281e1b">Syncing to the Cloud</h2>
<div class="outline-text-2" id="text-org7281e1b">
<p>
<a href="https://syncthing.net/">Syncthing</a> provides a similar capability to proprietary systems such as Dropbox, and also is well suited for use with low power single board computers. You can have one or more directories which are synchronized across your various laptops/desktops/devices, and this makes it hard for you to ever lose important files. The manner in which the synchronization is done is pretty secure, such that it would be difficult for passive adversaries (mass surveillance, "<i>men in the middle</i>", etc) to know what files you're sharing. Of course, you don't necessarily need to be running a server in order to use Syncthing, but if you do have a server which is always running then there's always at least one place to synchronize your files to or from.
</p>

<p>
Freedombone provides Syncthing shared directories for each user on the system, plus a single shared directory for all users. The expected most common scenario here is that of a family in which members may not want to share <i>all of their files</i> with each other, but might want to share some in a common pool (eg. birthday photos). You can also easily share between different servers.
</p>
</div>

<div id="outline-container-orgb65d3d1" class="outline-3">
<h3 id="orgb65d3d1">On a laptop</h3>
<div class="outline-text-3" id="text-orgb65d3d1">
<p>
Install syncthing:
</p>

<div class="org-src-container">

<pre class="src src-bash">curl -s https://syncthing.net/release-key.txt | sudo apt-key add -
<span class="org-builtin">echo</span> <span class="org-string">"deb http://apt.syncthing.net/ syncthing release"</span> | sudo tee /etc/apt/sources.list.d/syncthing.list
sudo apt-get update
sudo apt-get install syncthing
</pre>
</div>

<p>
Add syncthing to your startup applications, so that it begins running when your system starts. Then either restart your system or run the command "syncthing" from a terminal.
</p>

<p>
In another terminal log into Freedombone:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
</pre>
</div>

<p>
Then select <b>File Synchronization</b>.
</p>


<div class="figure">
<p><img src="images/controlpanel/control_panel_file_sync.jpg" alt="control_panel_file_sync.jpg" />
</p>
</div>

<p>
Select <b>Show device ID</b> and copy the long string of letters and numbers shown, using the shift key then select the text followed by right click then select copy.
</p>

<p>
Open a non-Tor browser and enter  <b><a href="http://127.0.0.1:8384/">http://127.0.0.1:8384/</a></b> as the URL. You should now see the minimalistic user interface. Under <b>Remote Devices</b> select <b>Add Remote Device</b>. In the <b>Device ID</b> field paste the string you just copied (CTRL+v). The Device name can be anything. Under <b>Share Folders with Device</b> check <b>default</b> (or whatever folder you created on your local machine), then save.
</p>

<p>
From the top menu select <b>Actions</b> and then <b>Show ID</b>, then copy the ID string (usually select then CTRL+c). Go back to the terminal control panel menu and select <b>Add an ID</b> then paste what you just copied (CTRL+v). Optionally you can also provide a description so that you later can know what that string corresponds to.
</p>

<p>
Now wait for a few minutes. Eventually you will see two messages appear within the browser asking if you want to add two new folders from the Freedombone server. Say yes to both, and specify <b>~/Sync</b> as the directory with your username and <b>~/SyncShared</b> as the shared directory. You can now copy files into your <b>~/Sync</b> directory and they will automatically be synced to the server. Those will be files which only you can access. If you copy files into <b>~/SyncShared</b> then they will also be available to any other users on the system.
</p>
</div>
</div>
<div id="outline-container-orgb2927d1" class="outline-3">
<h3 id="orgb2927d1">On Android</h3>
<div class="outline-text-3" id="text-orgb2927d1">
<p>
Install Syncthing and Connectbot from F-droid.
</p>

<p>
Set up Connectbot to log into Freedombone.
</p>

<p>
Select <b>File Synchronization</b>.
</p>

<p>
Select <b>Show device ID</b> and copy the long string of letters by pressing anywhere on the screen, selecting the <b>menu</b> then <b>copy</b> and then selecting the ID string. This is very tricky on a small screen, so expect to fail multiple times before you succeed in copying the text.
</p>

<p>
Open Syncthing and select the devices tab. Press on <b>+</b> and then paste the device ID with a long press followed by <b>Paste</b>. You may need to remove any stray characters which were copied during the previous haphazard selection process. Add a name, which can be anything.
</p>

<p>
Now select the menu (top left or menu button) and then press on <b>Device ID</b>. It will be copied to the clipboard. Go back to Connectbot and from the control panel select <b>File Synchronization</b> followed by <b>Add an ID</b>. You can then paste in the ID with a long press, and optionally add a description for the device. When that's done you can disconnect from Connectbot.
</p>

<p>
Now wait for a few minutes or more. Eventually you should receive two notifications (swipe down from the top to see them) which will allow you to confirm the connection to the server. Say yes to both, and specify appropriate directories for your files and the shared files. To reduce battery and data usage via the settings you can also set Syncthing to only sync while it's charging and only while it's connected to wifi.
</p>
</div>
</div>
</div>
<div id="outline-container-org4a27bbe" class="outline-2">
<h2 id="org4a27bbe">Play Music</h2>
<div class="outline-text-2" id="text-org4a27bbe">
</div><div id="outline-container-orgcd92796" class="outline-3">
<h3 id="orgcd92796">With the DLNA service</h3>
<div class="outline-text-3" id="text-orgcd92796">
<p>
An easy way to play music on any mobile device in your home is to use the DLNA service. Copy your music into a directory called "<i>Music</i>" on a USB thumb drive and then insert it into from socket on the Beaglebone.
</p>

<p>
ssh into the system with:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh myusername@mydomain.com -p 2222
</pre>
</div>

<p>
Then mount the USB drive with:
</p>

<div class="org-src-container">

<pre class="src src-bash">su
attach-music
</pre>
</div>

<p>
The system will scan the Music directory, which could take a while if there are thousands of files, but you don't need to do anything further with the Beaglebone other than perhaps to log out by typing <b>exit</b> a couple of times.
</p>

<p>
If you have an Android device then go to F-Droid (if you don't already have it installed then it can be <a href="https://f-droid.org/">downloaded here</a>) and search for <b>ControlDLNA</b>. On running the app you should see a red Debian icon which you can press on, then you may need to select "local". After a few seconds the list of albums or tracks should then appear and you can browse and play them.
</p>

<p>
The DLNA service will only work within your local home network, and isn't remotely accessible from other locations via the internet. That can be both a good and a bad thing. Another consideration is that there are no access controls on DLNA services, so any music or videos on the USB drive will be playable by anyone within your home network.
</p>
</div>
</div>
</div>

<div id="outline-container-orgc7703b6" class="outline-2">
<h2 id="orgc7703b6">Microblogging (GNU Social)</h2>
<div class="outline-text-2" id="text-orgc7703b6">
</div><div id="outline-container-org0e34d5e" class="outline-3">
<h3 id="org0e34d5e">Initial setup</h3>
<div class="outline-text-3" id="text-org0e34d5e">
<p>
To log into your GNU Social site first obtain your username and password from the "microblogging" section of the readme file.
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
cat README
<span class="org-keyword">exit</span>
</pre>
</div>

<p>
Navigate to your site and log in. You may then want to select <b>Admin</b> and check or change the details. You may also wish to change the license for the site to be either Creative Commons or private.
</p>

<p>
GNU Social has a clutter-free mobile user interface which can be accessed via a Tor compatible browser (make sure to add a NoScript exception). Unlike similar proprietary sites there are no bribed posts.
</p>


<div class="figure">
<p><img src="images/gnusocial_mobile.jpg" alt="gnusocial_mobile.jpg" />
</p>
</div>
</div>
</div>

<div id="outline-container-orga0fbe00" class="outline-3">
<h3 id="orga0fbe00">Direct Messages (DMs) and privacy</h3>
<div class="outline-text-3" id="text-orga0fbe00">
<p>
One important point about GNU Social is that although direct messages (DMs) are treated as being private their security is quite poor. If you want real communications privacy then use other systems such as XMPP+OMEMO/OTR, Tox or email with GPG. GNU Social is primarily about <i>fully public communications</i>.
</p>
</div>
</div>
<div id="outline-container-orgd93dc54" class="outline-3">
<h3 id="orgd93dc54">Using with Emacs</h3>
<div class="outline-text-3" id="text-orgd93dc54">
<p>
If you are an Emacs user it's also possible to set up GNU Social mode as follows:
</p>

<div class="org-src-container">

<pre class="src src-bash">mkdir ~/elisp
git clone git://git.savannah.nongnu.org/gnu-social-mode ~/elisp/gnu-social-mode
sed -i <span class="org-string">'s|"http"|"https"|g'</span> ~/elisp/gnu-social-mode/gnu-social-mode.el
sed -i <span class="org-string">'s|http:|https:|g'</span> ~/elisp/gnu-social-mode/gnu-social-mode.el
sed -i <span class="org-string">'s|http?|https?|g'</span> ~/elisp/gnu-social-mode/gnu-social-mode.el
<span class="org-builtin">echo</span> <span class="org-string">"(add-to-list 'load-path \"~/elisp/gnu-social-mode\")"</span> &gt;&gt; ~/.emacs
<span class="org-builtin">echo</span> <span class="org-string">"(require 'gnu-social-mode)"</span> &gt;&gt; ~/.emacs
<span class="org-builtin">echo</span> <span class="org-string">"(setq gnu-social-server-textlimit 2000"</span> &gt;&gt; ~/.emacs
<span class="org-builtin">echo</span> <span class="org-string">"      gnu-social-server \"yourgnusocialdomain\""</span> &gt;&gt; ~/.emacs
<span class="org-builtin">echo</span> <span class="org-string">"    gnu-social-username \"yourusername\""</span> &gt;&gt; ~/.emacs
<span class="org-builtin">echo</span> <span class="org-string">"    gnu-social-password \"gnusocialpassword\")"</span> &gt;&gt; ~/.emacs
</pre>
</div>

<p>
And as a quick reference the main keys are:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key</th>
<th scope="col" class="org-left">Function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">i</td>
<td class="org-left">Show icons</td>
</tr>

<tr>
<td class="org-left">CTRL-c CTRL-s</td>
<td class="org-left">Post status update</td>
</tr>

<tr>
<td class="org-left">r</td>
<td class="org-left">Repeat</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-left">Favourite</td>
</tr>

<tr>
<td class="org-left">R</td>
<td class="org-left">Reply to user</td>
</tr>

<tr>
<td class="org-left">CTRL-c CTRL-h</td>
<td class="org-left">Highlight</td>
</tr>

<tr>
<td class="org-left">CTRL-c CTRL-r</td>
<td class="org-left">Show replies</td>
</tr>

<tr>
<td class="org-left">CTRL-c CTRL-f</td>
<td class="org-left">Friends timeline</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-orgf413e9b" class="outline-2">
<h2 id="orgf413e9b">Sharing things</h2>
<div class="outline-text-2" id="text-orgf413e9b">
<p>
If you have the GNU Social microblogging system installed then it's also possible to share things or services between groups or with particular users. This can be useful for sharing items within a family, club or in a local sharing economy. Sharing things freely, without money, reveals the social basis at the root of all economics which money normally conceals or obscures.
</p>

<p>
Click on "<i>share</i>" or "<i>my catalog</i>" and this will switch to a screen which allows you to enter details for things to be shared or wanted.
</p>


<div class="figure">
<p><img src="images/sharings3.jpg" alt="sharings3.jpg" />
</p>
</div>

<p>
The "<i>catalog</i>" button then allows you to search for shared things within the federated network.
</p>


<div class="figure">
<p><img src="images/sharings4.jpg" alt="sharings4.jpg" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgfa5f6b3" class="outline-2">
<h2 id="orgfa5f6b3">Social Network</h2>
<div class="outline-text-2" id="text-orgfa5f6b3">
</div><div id="outline-container-orgbaa50d3" class="outline-3">
<h3 id="orgbaa50d3">Domains</h3>
<div class="outline-text-3" id="text-orgbaa50d3">
<p>
Both Hubzilla and GNU Social try to obtain certificates automatically at the time of installation via Let's Encrypt. This will likely mean that in order for this to work you'll need to have obtained at least one "official" domain via a domain selling service, since Let's Encrypt mostly doesn't seem to work with free subdomains from sites such as freeDNS.
</p>
</div>
</div>
<div id="outline-container-org64e9ea5" class="outline-3">
<h3 id="org64e9ea5">Initial install</h3>
<div class="outline-text-3" id="text-org64e9ea5">
<p>
On first visiting your Hubzilla site you'll see the login screen. The first thing you need to do is <b>register</b> a new user. The first user on the system then becomes its administrator.
</p>


<div class="figure">
<p><img src="images/hubzilla_mobile.jpg" alt="hubzilla_mobile.jpg" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgdde6751" class="outline-2">
<h2 id="orgdde6751">Chat Services</h2>
<div class="outline-text-2" id="text-orgdde6751">
</div><div id="outline-container-orgda8655e" class="outline-3">
<h3 id="orgda8655e">IRC</h3>
<div class="outline-text-3" id="text-orgda8655e">
<p>
IRC is useful for multi-user chat. The classic use case is for software development where many engineers might need to coordinate their activities, but it's also useful for meetings, parties and general socialising.
</p>
</div>
<div id="outline-container-orgc1bc91a" class="outline-4">
<h4 id="orgc1bc91a">Irssi</h4>
<div class="outline-text-4" id="text-orgc1bc91a">
<p>
The easiest way to use irssi is to connect to your system, like this:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh myusername@mydomain -p 2222
</pre>
</div>

<p>
Then select <b>IRC</b> from the menu. However, other than via this method using ssh, irssi isn't a very good IRC client because it doesn't have the capability to onion route messages, and therefore leaks metadata. For the best security when using your IRC server, use HexChat, Emacs ERC or another client which supports socks5 proxying.
</p>
</div>
</div>
<div id="outline-container-orgc0e09eb" class="outline-4">
<h4 id="orgc0e09eb">HexChat</h4>
<div class="outline-text-4" id="text-orgc0e09eb">
<p>
HexChat (formerly XChat) is compatible with proxying via Tor and so provides the best security when connecting to your IRC server. It will allow you to connect to your IRC server's onion address.
</p>

<p>
First install HexChat and set up its configuration file.
</p>

<div class="org-src-container">

<pre class="src src-bash">sudo apt-get install tor hexchat
mkdir -p ~/.config/hexchat
<span class="org-builtin">echo</span> <span class="org-string">"# By default, HexChat based IRC software, when started-up, or run for first time,</span>
<span class="org-string"># it starts to use local network, to connect to the internet. To prevent that,</span>
<span class="org-string"># and to force it, to use Tor proxy (a Socks5 server):</span>
<span class="org-string">#</span>
<span class="org-string"># /set net_proxy_host 127.0.0.1</span>
<span class="org-string"># /set net_proxy_port 9050</span>
<span class="org-string"># /set net_proxy_type 3</span>
<span class="org-string"># /set net_proxy_use 0</span>
<span class="org-string">net_proxy_host = 127.0.0.1</span>
<span class="org-string">net_proxy_port = 9050</span>
<span class="org-string"># Technical note: 3 = socks5</span>
<span class="org-string">net_proxy_type = 3</span>
<span class="org-string"># Technical note: Do not worry. 0 is not equal to "</span>off<span class="org-string">". 0 stands for "</span>All<span class="org-string">".</span>
<span class="org-string">#                 Check yourself https://toxin.jottit.com/xchat_set_variables</span>
<span class="org-string">net_proxy_use = 0</span>

<span class="org-string"># HexChat should not use the same circuit/exit server as other Tor applications.</span>
<span class="org-string"># Otherwise activity in different applications could be correlated to the same</span>
<span class="org-string"># pseudonym. There is a way to prevent that.</span>
<span class="org-string"># It is called stream isolation. We use IsolateSOCKSAuth,</span>
<span class="org-string"># see https://www.torproject.org/docs/tor-manual-dev.html.en</span>
<span class="org-string"># The password is actually not required, but it does not hurt either.</span>
<span class="org-string"># Will probable not hurt on Tor 0.2.2 and below.</span>
<span class="org-string"># Works with Tor 0.2.3 and above.</span>
<span class="org-string">#</span>
<span class="org-string"># /set net_proxy_auth 1</span>
<span class="org-string"># /set net_proxy_pass = HexChat</span>
<span class="org-string"># /set net_proxy_user = HexChat</span>
<span class="org-string">#</span>
<span class="org-string">net_proxy_auth = 1</span>
<span class="org-string">net_proxy_pass = HexChat</span>
<span class="org-string">net_proxy_user = HexChat</span>

<span class="org-string"># Get rid of protocol leaks:</span>
<span class="org-string"># a DCC session can reveal IP address, etc. identd flag can reveal your</span>
<span class="org-string"># username which you use to login in your OS(Windows/Linux/Unix/MacOS) profile.</span>
<span class="org-string"># To prevent those:</span>
<span class="org-string">#</span>
<span class="org-string"># /set dcc_auto_chat 0</span>
<span class="org-string"># /set dcc_auto_resume OFF</span>
<span class="org-string"># /set dcc_auto_send 0</span>
<span class="org-string"># /set irc_hide_version ON</span>
<span class="org-string"># /set identd OFF &lt;-- NOT working on all HexChat-based IRC software.</span>
<span class="org-string"># But still highly suggested to include &amp; use it.</span>
<span class="org-string"># Probable not needed on UNIX, source: https://xchat.org/faq/#q21</span>
<span class="org-string">dcc_auto_chat = 0</span>
<span class="org-string">dcc_auto_resume = 0</span>
<span class="org-string">dcc_auto_send = 0</span>
<span class="org-string">irc_hide_version = 1</span>
<span class="org-string">identd = 0</span>

<span class="org-string"># If you use your own comment instead of default values, then these data are</span>
<span class="org-string"># posted on each channel when you do these events: JOIN, PART, QUIT, AWAY.</span>
<span class="org-string"># So they can reveal who you actually are, when you are using same HexChat</span>
<span class="org-string"># software for multiple different nicknames.</span>
<span class="org-string">#</span>
<span class="org-string"># Delete everything under Settings -&gt; Preferences -&gt; Default Messages:</span>
<span class="org-string"># -&gt; Quit: &lt;Deleted everything!&gt;</span>
<span class="org-string"># -&gt; Leave channel: &lt;Deleted everything!&gt;</span>
<span class="org-string"># -&gt; Away: &lt;Deleted everything!&gt;</span>
<span class="org-string">away_reason =</span>
<span class="org-string">irc_part_reason =</span>
<span class="org-string">irc_quit_reason =</span>

<span class="org-string"># By default, HexChat based IRC software uses your platform OS(Operating System)s</span>
<span class="org-string"># login user name as your nickname, user name, real name.  To prevent leaking</span>
<span class="org-string"># that, and, to use your own choice of nickname, realname, username:</span>
<span class="org-string">#</span>
<span class="org-string"># ***Pseudonymous vs. anonymous IRC use.***</span>
<span class="org-string"># Actually IRC is pseudonymous. Your nickname might also reveal something about</span>
<span class="org-string"># your origin, interests, etc. You can make IRC more anonymous by choosing a more</span>
<span class="org-string"># meaningless nickname. Use the following defaults if you want to be more anonymous.</span>
<span class="org-string"># If user, user_ and user___ are already taken, add more _ or start using user1,</span>
<span class="org-string"># user2, user3, etc. Or if the irc network auto assigns your a nickname, i.e.</span>
<span class="org-string"># guest532, stick with that nickname.</span>
<span class="org-string">#</span>
<span class="org-string"># Of course, you are free to continue using IRC in a pseudonymous manner.</span>
<span class="org-string"># In that case, instant of user, choose your nickname.</span>
<span class="org-string">#</span>
<span class="org-string"># /set irc_real_name user</span>
<span class="org-string"># /set irc_user_name user</span>
<span class="org-string"># /set irc_nick1 user</span>
<span class="org-string"># /set irc_nick2 user_</span>
<span class="org-string"># /set irc_nick3 user__</span>
<span class="org-string">irc_real_name = user</span>
<span class="org-string">irc_user_name = user</span>
<span class="org-string">irc_nick1 = user</span>
<span class="org-string">irc_nick2 = user_</span>
<span class="org-string">irc_nick3 = user__</span>

<span class="org-string"># Use a more common nick completion suffix:</span>
<span class="org-string"># When you write the first few characters of a nickname followed by tab,</span>
<span class="org-string"># it will, by HexChat default, complete the nickname and "</span>, <span class="org-string">" behind the</span>
<span class="org-string"># nickname. The behavior is HexChat specific. The "</span> :<span class="org-string">" is more more common</span>
<span class="org-string"># for more common clients such as mIRC.</span>
<span class="org-string">#</span>
<span class="org-string"># HexChat -&gt; Settings -&gt; Preferences -&gt; input box -&gt; completion_suffix set to :</span>
<span class="org-string">#</span>
<span class="org-string">completion_suffix = :</span>

<span class="org-string"># Not starting the server windows at the beginning so you can check and set</span>
<span class="org-string"># settings before connecting to any IRC networks.</span>
<span class="org-string">gui_slist_skip = 1</span>
<span class="org-string">"</span> &gt; ~/.config/hexchat/hexchat.conf
</pre>
</div>

<p>
Now look up the onion address for your IRC server
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@mydomainname -p 2222
</pre>
</div>

<p>
Select Administrator options, then <b>About this system</b> and make a note of the onion address for IRC. Also select the <b>IRC Menu</b> and take a note of the login password.
</p>


<div class="figure">
<p><img src="images/hexchat_setup.jpg" alt="hexchat_setup.jpg" />
</p>
</div>

<p>
Run HexChat.
</p>

<p>
Within the network list click, <b>Add</b> and enter your domain name then click <b>Edit</b>.
</p>

<p>
Select the entry within the servers box, then enter <b>ircaddress.onion/6697</b> and press <b>Enter</b>.
</p>

<p>
Uncheck <b>use global user information</b>.
</p>

<p>
Enter first and second nicknames and check <b>connect to this network on startup</b>.
</p>

<p>
Make sure that <b>use SSL</b> is unchecked. Encryption will be handled via the onion address itself.
</p>

<p>
Within the <b>Password</b> field enter the password which can be found from the IRC menu of the <b>control panel</b>.
</p>

<p>
Select the <b>Autojoin channels</b> tab, click <b>Add</b> and enter <b>#freedombone</b> as the channel name.
</p>

<p>
Click <b>close</b> and then <b>connect</b>.
</p>
</div>
</div>

<div id="outline-container-org4389b25" class="outline-4">
<h4 id="org4389b25">Emacs</h4>
<div class="outline-text-4" id="text-org4389b25">
<p>
If you are an Emacs user then you can also connect to your IRC server via Emacs.
</p>

<p>
Ensure that tor is installed onto your local system:
</p>

<div class="org-src-container">

<pre class="src src-bash">sudo apt-get install tor
</pre>
</div>

<p>
Add the following to your Emacs configuration file:
</p>

<div class="org-src-container">

<pre class="src src-elisp">(setq socks-noproxy '(<span class="org-string">"localhost"</span>))
(<span class="org-keyword">require</span> '<span class="org-constant">socks</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">tls</span>)
(setq socks-server (list <span class="org-string">"Tor socks"</span> <span class="org-string">"localhost"</span> 9050 5))
(setq erc-server-connect-function 'socks-open-network-stream)
(setq erc-autojoin-channels-alist
    '((<span class="org-string">"myircaddress.onion"</span> <span class="org-string">"#freedombone"</span>)))
(erc <span class="org-builtin">:server</span> <span class="org-string">"myircaddress.onion"</span> <span class="org-builtin">:port</span> 6697 <span class="org-builtin">:nick</span> <span class="org-string">"yourusername"</span> <span class="org-builtin">:password</span> <span class="org-string">"your IRC password"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc9ca4fc" class="outline-4">
<h4 id="orgc9ca4fc">Changing or removing the IRC password</h4>
<div class="outline-text-4" id="text-orgc9ca4fc">
<p>
By default the IRC server is set up to require a password for users to log in. The password is the same for all users. If you want to change or remove the password:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh myusername@mydomain -p 2222
</pre>
</div>

<p>
Select <i>Administrator controls</i> then <b>IRC Menu</b> and then change the password. An empty password will allow anyone to log in, so you can have a globally accessible IRC system if you wish, although you might want to carefully consider whether that's wise.
</p>
</div>
</div>
</div>

<div id="outline-container-org0e18990" class="outline-3">
<h3 id="org0e18990">XMPP/Jabber</h3>
<div class="outline-text-3" id="text-org0e18990">
</div><div id="outline-container-orgb72a4c2" class="outline-4">
<h4 id="orgb72a4c2">About XMPP</h4>
<div class="outline-text-4" id="text-orgb72a4c2">
<p>
A well written article on the state of XMPP and how it compares to other chat protocols <a href="https://gultsch.de/xmpp_2016.html">can be found here</a>.
</p>
</div>
</div>
<div id="outline-container-org48d2ee3" class="outline-4">
<h4 id="org48d2ee3">Using with Gajim</h4>
<div class="outline-text-4" id="text-org48d2ee3">
<p>
In mid 2016 <a href="https://gajim.org/">Gajim</a> became the first desktop XMPP client to support the <a href="https://en.wikipedia.org/wiki/OMEMO">OMEMO end-to-end security standard</a>, which is superior to the more traditional <a href="https://en.wikipedia.org/wiki/Off-the-Record_Messaging">OTR</a> since it also includes multi-user chat and the ratcheting mechanism pioneered by Open Whisper Systems. To install it:
</p>

<div class="org-src-container">

<pre class="src src-bash">su -c <span class="org-string">'echo "deb ftp://ftp.gajim.org/debian unstable main" &gt; /etc/apt/sources.list.d/gajim.list'</span>
sudo apt-get update
sudo apt-get -y install gajim-dev-keyring
sudo apt-get -y install git tor python-dev python-pip gajim-nightly
mkdir ~/.local/share/gajim/plugins -p
<span class="org-builtin">cd</span> ~/.local/share/gajim/plugins
git clone https://github.com/omemo/gajim-omemo
sudo pip install <span class="org-variable-name">protobuf</span>==2.6.1, python-axolotl==0.1.35
</pre>
</div>

<p>
Open Gajim and enter your XMPP address and password.
</p>

<p>
Go to <b>Edit/Preferences</b> and select the <b>Advanced</b> tab. Under <b>Global Proxy</b> select <b>Tor</b> and the <b>Close</b> button. Then select <b>Edit/Plugins</b> and make sure that OMEMO is active (ticked), then select the <b>Close</b> button.
</p>

<p>
When you start a conversation make sure that the OMEMO box is ticked. You can also click on the keys button and trust various fingerprints. Both sides will need to do that before an encrypted chat can start.
</p>

<p>
If you wish to make backups of the OMEMO keys then they can be found within:
</p>

<div class="org-src-container">

<pre class="src src-bash">~/.local/share/gajim
</pre>
</div>

<p>
If you wish to use OpenPGP to encrypt your messages then go to <b>Edit/Accounts</b>, select your account and then the <b>Personal Information</b> tab. You can then choose your GPG key. When initiating a chat you can select the <b>Advanced</b> button and then select <b>Toggle OpenPGP Encryption</b>. OpenPGP is not as secure as OMEMO, but does allow you to use XMPP in a similar style to email in that the recipient of the message does not necessarily need to be online at the same time that you send it.
</p>
</div>
</div>

<div id="outline-container-orgf41befd" class="outline-4">
<h4 id="orgf41befd">Using with Profanity</h4>
<div class="outline-text-4" id="text-orgf41befd">
<p>
The <a href="https://profanity.im/">Profanity</a> shell based user interface and is perhaps the simplest way to use XMPP from a laptop. It's also a good way to ensure that your OTR keys are the same even when logging in from different laptops or devices, and it also means that if those devices later become compomised then there are no locally stored OTR keys to be found.
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domain -p 2222
</pre>
</div>

<p>
Then select XMPP. Generate an <a href="https://en.wikipedia.org/wiki/Off-the-Record_Messaging">OTR</a> key with:
</p>

<div class="org-src-container">

<pre class="src src-bash">/otr gen
</pre>
</div>

<p>
Then to start a conversation using OTR:
</p>

<div class="org-src-container">

<pre class="src src-bash">/otr start otherusername@otheruserdomain
</pre>
</div>

<p>
or if you're already in an insecure chat with someone just use:
</p>

<div class="org-src-container">

<pre class="src src-bash">/otr start
</pre>
</div>

<p>
Set a security question and answer:
</p>

<div class="org-src-container">

<pre class="src src-bash">/otr question <span class="org-string">"What is the name of your best friends rabbit?"</span> fiffi
</pre>
</div>

<p>
On the other side the user can enter:
</p>

<div class="org-src-container">

<pre class="src src-bash">/otr answer fiffi
</pre>
</div>

<p>
For the most paranoid you can also obtain your fingerprint:
</p>

<div class="org-src-container">

<pre class="src src-bash">/otr myfp
</pre>
</div>

<p>
and quote that.  If they quote theirs back you can check it with:
</p>

<div class="org-src-container">

<pre class="src src-bash">/otr theirfp
</pre>
</div>

<p>
If the fingerprints match then you can be pretty confident that unless you have been socially engineered via the question and answer you probably are talking to who you think you are, and that it will be difficult for mass surveillance systems to know the content of the conversation. For more details see <a href="https://www.profanity.im/otr.html">this guide</a>
</p>

<p>
When accessed via the user control panel the client is automatically routed through Tor and so if you are also using OTR then this provides protection for both message content and metadata.
</p>
</div>
</div>
<div id="outline-container-org793fbba" class="outline-4">
<h4 id="org793fbba">Using with Jitsi</h4>
<div class="outline-text-4" id="text-org793fbba">
<p>
Jitsi is the recommended communications client for desktop or laptop systems, since it includes the <i>off the record</i> (OTR) feature which provides some additional security beyond the usual SSL certificates.
</p>

<p>
Jitsi can be downloaded from <a href="https://jitsi.org/">https://jitsi.org/</a>
</p>

<p>
On your desktop/laptop open Jitsi and select <b>Options</b> from the <b>Tools</b> menu.
</p>

<p>
Click <b>Add</b> to add a new user, then enter the Jabber ID which you previously specified with <i>prosodyctl</i> when setting up the XMPP server. Close and then you should notice that your status is "Online" (or if not then you should be able to set it to online).
</p>

<p>
From the <b>File</b> menu you can add contacts, then select the chat icon to begin a chat.  Click on the lock icon on the right hand side and this will initiate an authentication procedure in which you can specify a question and answer to verify the identity of the person you're communicating with.  Once authentication is complete then you'll be chating using OTR, which provides an additional layer of security.
</p>

<p>
When opening Jitsi initially you will get a certificate warning for your domain name (assuming that you're using a self-signed certificate). If this happens then select <b>View Certificate</b> and enable the checkbox to trust the certificate, then select <b>Continue Anyway</b>.  Once you've done this then the certificate warning will not appear again unless you reinstall Jitsi or use a different computer.
</p>

<p>
You can also <a href="https://www.youtube.com/watch?v=vgx7VSrDGjk">see this video</a> as an example of using OTR.
</p>
</div>
</div>
<div id="outline-container-org8a87daa" class="outline-4">
<h4 id="org8a87daa">Using with Ubuntu</h4>
<div class="outline-text-4" id="text-org8a87daa">
<p>
The default XMPP client in Ubuntu is Empathy.  Using Empathy isn't as secure as using Jitsi, since it doesn't include the <i>off the record</i> feature, but since it's the default it's what many users will have easy access to.
</p>

<p>
Open <b>System Settings</b> and select <b>Online Accounts</b>, <b>Add account</b>  and then <b>Jabber</b>.
</p>

<p>
Enter your username (username@domainname) and password.
</p>

<p>
Click on <b>Advanced</b> and make sure that <b>Encryption required</b> and <b>Ignore SSL certificate errors</b> are checked.  Ignoring the certificate errors will allow you to use the self-signed certificate created earlier.  Then click <b>Done</b> and set your Jabber account and Empathy to <b>On</b>.
</p>
</div>
</div>
<div id="outline-container-org7ba5b95" class="outline-4">
<h4 id="org7ba5b95">Using Tor Messenger</h4>
<div class="outline-text-4" id="text-org7ba5b95">
<p>
Tor Messenger is a messaging client which supports XMPP, and its onion routing enables you to protect the metadata of chat interactions to some extent by making it difficult for an adversary to know which server is talking to which. You can download Tor Messenger from <a href="https://torproject.org/">torproject.org</a> and the setup is pretty simple.
</p>
</div>
</div>
<div id="outline-container-org19e9125" class="outline-4">
<h4 id="org19e9125">Using with Android/Conversations</h4>
<div class="outline-text-4" id="text-org19e9125">
<p>
Install <a href="https://f-droid.org/">F-Droid</a>
</p>

<p>
Search for and install <b>Orbot</b> and <b>Conversations</b>.
</p>

<p>
Add an account and enter your Jabber/XMPP ID and password.
</p>

<p>
From the menu select <b>Settings</b> then <b>Expert Settings</b>. Select <b>Connect via Tor</b> and depending on your situation you might also want to select <b>Don't save encrypted messages</b>. Also within expert settings select <b>Keep in foreground</b>. This will enable you to still receive notifications when your device is in standby mode with the screen turned off.
</p>

<p>
From the menu select <b>Manage accounts</b> and add a new account.
</p>

<div class="org-src-container">

<pre class="src src-bash">Jabber ID: myusername@mydomain
Password:  your XMPP password
Hostname:  mydomain
Port:      5222
</pre>
</div>

<p>
Then select <b>Next</b>. When chatting you can use the lock icon to encrypt your conversation. OMEMO is the recommended type of encryption. It's also going through Tor, so passive surveillance of the metadata should not be easy for an adversary.
</p>
</div>
</div>
</div>
<div id="outline-container-org077742d" class="outline-3">
<h3 id="org077742d">Tox</h3>
<div class="outline-text-3" id="text-org077742d">
<p>
Tox is an encrypted peer-to-peer messaging system and so should work without Freedombone. It uses a system of nodes which act as a sort of directory service allowing users to find and connect to each other. The Tox node ID on the Freedombone can be found within the README within your home directory. If you have other users connect to your node then you will be able to continue chatting even when no other nodes are available.
</p>
</div>
<div id="outline-container-org1075615" class="outline-4">
<h4 id="org1075615">Using the Toxic client</h4>
<div class="outline-text-4" id="text-org1075615">
<p>
Log into your system with:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh myusername@mydomain -p 2222
</pre>
</div>

<p>
Then from the menu select <b>Tox Chat</b>. Tox is encrypted by default and also routed through Tor, so it should be reasonably secure both in terms of message content and metadata.
</p>


<div class="figure">
<p><img src="images/toxic.jpg" alt="toxic.jpg" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb3d05d4" class="outline-3">
<h3 id="orgb3d05d4">VoIP (Voice and text chat)</h3>
<div class="outline-text-3" id="text-orgb3d05d4">
</div><div id="outline-container-org0e90ba3" class="outline-4">
<h4 id="org0e90ba3">Text chat</h4>
<div class="outline-text-4" id="text-org0e90ba3">
<p>
In addition to voice it is also possible to do text chat via mumble. The security of this is pretty good provided that you do it via Plumble and Orbot on mobile, but compared to other options such as XMPP/Conversations or Tox the security is not as good, since the mumble server currently doesn't support forward secrecy.
</p>
</div>
</div>
<div id="outline-container-orgc4d69b6" class="outline-4">
<h4 id="orgc4d69b6">Using with Ubuntu</h4>
<div class="outline-text-4" id="text-orgc4d69b6">
<p>
Within the software center search for "mumble" and install the client then run it. Skip through the audio setup wizard.
</p>

<p>
Click on "add new" to add a new server and enter the default domain name for the Freedombone, your username (which can be anything) and the VoIP server password which can be found in the README file on the Freedombone. Accept the self-signed SSL certificate. You are now ready to chat.
</p>
</div>
</div>
<div id="outline-container-org192250b" class="outline-4">
<h4 id="org192250b">Using with Android</h4>
<div class="outline-text-4" id="text-org192250b">
<p>
Install <a href="https://f-droid.org/">F-Droid</a>
</p>

<p>
If you don't have Orbot installed then enable The Guardian Project repository from the drop down menu and install it.
</p>

<p>
Search for and install Plumble.
</p>

<p>
Press the plus button to add a Mumble server.
</p>

<p>
Enter a label (which can be any name you choose for the server), the default domain name of the Freedombone, your username (which can also be anything) and the VoIP server password which can be found in the README file on the Freedombone.
</p>

<p>
Open the settings. Select General, then Connect via Tor. This will provide better protection, making it more difficult for adversaries to know who is talking to who.
</p>

<p>
Selecting the server by pressing on it then connects you to the server so that you can chat with other connected users.
</p>

<p>
<i>Note: if you don't know the default domain name and you did a full installation then it will be the same as the wiki domain name.</i>
</p>
</div>
</div>
</div>
<div id="outline-container-org53ff0e8" class="outline-3">
<h3 id="org53ff0e8">SIP phones</h3>
<div class="outline-text-3" id="text-org53ff0e8">
<p>
Freedombone also supports SIP phones The username and domain is the same as for your email address, and the SIP password and extension number will appear within the README file in your home directory. Various SIP client options are available, such as CSipSimple on Android and Jitsi on desktop or laptop machines. Ideally use clients which support ZRTP, which will provide the best level of security.
</p>
</div>
<div id="outline-container-orge98cea2" class="outline-4">
<h4 id="orge98cea2">About ZRTP</h4>
<div class="outline-text-4" id="text-orge98cea2">
<p>
<a href="https://jitsi.org/Documentation/ZrtpFAQ">ZRTP</a> appears to be the current best standard to end-to-end encrypted voice calls, combining good security with simplicity of use. When the initial cryptographic negotiation between phones is done at the start of a call a short authentication string (SAS) is calculated and displayed at both ends. To check that there isn't anyone intercepting the call and acting as a <i>man in the middle</i> - as <a href="https://en.wikipedia.org/wiki/Stingray_phone_tracker">stingray type devices</a> try to do - the short authentication string can be read out and verbally confirmed between the callers. If it's the same then you can be pretty confident that the call is secure.
</p>
</div>
</div>
<div id="outline-container-orgd64a214" class="outline-4">
<h4 id="orgd64a214">Using with CSIPSimple</h4>
<div class="outline-text-4" id="text-orgd64a214">
<p>
Add an account. Under <b>General Wizards</b> choose <b>Expert</b> and enter the following details:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Account name</td>
<td class="org-left">Your username</td>
</tr>

<tr>
<td class="org-left">Account ID</td>
<td class="org-left">sip:username@yourdomain</td>
</tr>

<tr>
<td class="org-left">Registration URI</td>
<td class="org-left">sip:yourdefaultdomain</td>
</tr>

<tr>
<td class="org-left">Realm</td>
<td class="org-left">*</td>
</tr>

<tr>
<td class="org-left">Username</td>
<td class="org-left">Your username</td>
</tr>

<tr>
<td class="org-left">Data (Password)</td>
<td class="org-left">Your SIP password</td>
</tr>

<tr>
<td class="org-left">ZRTP Mode</td>
<td class="org-left">Create ZRTP</td>
</tr>
</tbody>
</table>

<p>
If everything is working the account should appear in green with a status of <b>Registered</b>.
</p>
</div>
</div>
<div id="outline-container-org7640ad1" class="outline-4">
<h4 id="org7640ad1">Using with Ring</h4>
<div class="outline-text-4" id="text-org7640ad1">
<p>
From the menu select <b>Manage accounts</b>.
</p>

<p>
Add an account with the following details:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Alias</td>
<td class="org-left">Your full name or nickname</td>
</tr>

<tr>
<td class="org-left">Protocol</td>
<td class="org-left">SIP</td>
</tr>

<tr>
<td class="org-left">Hostname</td>
<td class="org-left">yourdefaultdomain</td>
</tr>

<tr>
<td class="org-left">Username</td>
<td class="org-left">Your username</td>
</tr>

<tr>
<td class="org-left">Password</td>
<td class="org-left">Your SIP password</td>
</tr>
</tbody>
</table>

<p>
Select the <b>Security</b> tab. Under <b>SRTP Key Exchange</b> select <b>ZRTP</b>. Unde <b>SRTP Preferences</b> select <b>Not supported warning</b> and <b>Display SAS Once</b>.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org97c5393" class="outline-2">
<h2 id="org97c5393">RSS Reader</h2>
<div class="outline-text-2" id="text-org97c5393">
<p>
The way that RSS reading is set up on Freedombone gives you strong reading privacy. Not only is there onion routing between you and the server but also between the server and the source of the RSS feed. The only down side is that many RSS feeds are still http only, and so could be vulnerable to injection attacks, but it's expected that more of this will go to https in the foreseeable future due to a combination of growing recognition of security issues and systems like Let's Encrypt which make obtaining certificates much easier.
</p>


<div class="figure">
<p><img src="images/rss_reader_mobile.jpg" alt="rss_reader_mobile.jpg" />
</p>
</div>
</div>

<div id="outline-container-org74307aa" class="outline-3">
<h3 id="org74307aa">Finding the onion address</h3>
<div class="outline-text-3" id="text-org74307aa">
<p>
See the control panel for the RSS reader onion address.
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
</pre>
</div>

<p>
Select <i>Administrator controls</i> then select the <b>About</b> screen.
</p>

<p>
The RSS reader is accessible only via an onion address. This provides a reasonable degree of reading privacy, making it difficult for passive adversaries such as governments, corporations or criminals to create lists of sites which you are subscribed to.
</p>

<p>
To set up the system open <a href="http://rss_reader_onion_address/">http://rss_reader_onion_address/</a> and log in with username <b>admin</b> and the password obtained either at the beginning of the install or from the README file in your home directory. You can then select the <b>Actions</b> menu and begin adding your feeds.
</p>
</div>
</div>

<div id="outline-container-orgc58a4d1" class="outline-3">
<h3 id="orgc58a4d1">On mobile</h3>
<div class="outline-text-3" id="text-orgc58a4d1">
<p>
To access the RSS reader from a mobile device you can install a Tor compatible browser such as OrFox. It will try to automatically change to the mobile version of the user interface. Remember to add the site to the NoScript whitelist, and you may also need to turn HTTPS Everywhere off.
</p>

<blockquote>
<p>
A note for the paranoid is that on mobile devices you get redirected to a different onion address which is specially set up for the mobile interface, so don't be alarmed that it looks like your connection is being hijacked.
</p>
</blockquote>
</div>
</div>
<div id="outline-container-orgbdac744" class="outline-3">
<h3 id="orgbdac744">With Emacs</h3>
<div class="outline-text-3" id="text-orgbdac744">
<p>
If you are an Emacs user then you can also read your RSS feeds via the <a href="https://github.com/dk87/avandu">Avandu</a> mode.
</p>

<p>
Add the following to your configuration, changing the address and password as appropriate.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq avandu-tt-rss-api-url <span class="org-string">"http://rss_reader_onion_address/api/"</span>
      avandu-user <span class="org-string">"admin"</span>
      avandu-password <span class="org-string">"mypassword"</span>)
</pre>
</div>

<p>
If you don't already have Emacs set up to route through Tor then also add the following:
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq socks-noproxy '(<span class="org-string">"localhost"</span>))
(<span class="org-keyword">require</span> '<span class="org-constant">socks</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">tls</span>)
(setq socks-server (list <span class="org-string">"Tor socks"</span> <span class="org-string">"localhost"</span> 9050 5))
</pre>
</div>

<p>
And ensure that the Tor daemon is installed:
</p>

<div class="org-src-container">

<pre class="src src-bash">sudo apt-get install tor
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org7da20bd" class="outline-2">
<h2 id="org7da20bd">Git Projects</h2>
<div class="outline-text-2" id="text-org7da20bd">
<p>
Github is ok, but it's proprietary and funded by venture capital. If you been around on the internet for long enough then you know how this story eventually works itself out - i.e. badly for the users. It's really only a question of time. If you're a software developer or do things which involve the Git version control system then it's a good idea to become accustomed to hosting your own repositories, before the inevitable Github shitstorm happens.
</p>

<p>
A Git hosting system called <a href="https://gogs.io/">Gogs</a> can optionally be installed. This is very similar to Github in appearance and use. It's lightweight and so well suited for use on low power ARM servers.
</p>

<p>
Navigate to your git site and click the <b>Register</b> button. The first user registered on the system becomes the administrator. Once you've done that then it's a good idea to disable further registrations. Currently that's a little complicated, but you can do it as follows:
</p>

<div class="org-src-container">

<pre class="src src-bash">sudo username@domainname -p 2222
</pre>
</div>

<p>
Select <b>Exit to the comand line</b>.
</p>

<div class="org-src-container">

<pre class="src src-bash">sudo su
<span class="org-builtin">export</span> <span class="org-variable-name">GO_VERSION</span>=1.5
sed -i <span class="org-string">"s|DISABLE_REGISTRATION =.*|DISABLE_REGISTRATION = true|g"</span> /home/git/gvm/pkgsets/go${<span class="org-variable-name">GO_VERSION</span>}/global/src/github.com/gogits/gogs/custom/conf/app.ini
systemctl restart gogs
<span class="org-keyword">exit</span>; <span class="org-keyword">exit</span>
</pre>
</div>

<p>
This will stop any spam accounts being created by random strangers or bots. You might want to mirror existing repos, and at any time a mirror can be converted into the main repo.
</p>
</div>
</div>
<div id="outline-container-orgb5097c3" class="outline-2">
<h2 id="orgb5097c3">Adding or removing users</h2>
<div class="outline-text-2" id="text-orgb5097c3">
<p>
Log into the system with:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
</pre>
</div>

<p>
Select <b>Administrator controls</b> then <b>User Management</b>. Depending upon the type of installation after selecting administrator controls you might need to enter:
</p>

<div class="org-src-container">

<pre class="src src-bash">sudo su
control
</pre>
</div>


<div class="figure">
<p><img src="images/controlpanel/control_panel_manage_users.jpg" alt="control_panel_manage_users.jpg" />
</p>
</div>

<center>
Return to the <a href="index.html">home page</a>
</center>
</div>
</div>
</div>
<div id="postamble" class="status">

<style type="text/css">
.back-to-top {
    position: fixed;
    bottom: 2em;
    right: 0px;
    text-decoration: none;
    color: #000000;
    background-color: rgba(235, 235, 235, 0.80);
    font-size: 12px;
    padding: 1em;
    display: none;
}

.back-to-top:hover {
    background-color: rgba(135, 135, 135, 0.50);
}
</style>

<div class="back-to-top">
<a href="#top">Back to top</a> | <a href="mailto:bob@robotics.uk.to">E-mail me</a>
</div>
</div>
</body>
</html>
