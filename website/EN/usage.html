<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2016-11-12 Sat 22:19 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title></title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Bob Mottram" />
<meta name="description" content="Turn the Beaglebone Black into a personal communications server"
 />
<meta name="keywords" content="freedombox, debian, beaglebone, hubzilla, email, web server, home server, internet, censorship, surveillance, social network, irc, jabber" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="freedombone.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="preamble" class="status">
<a name="top" id="top"></a>
</div>
<div id="content">
<div class="org-center">

<div class="figure">
<p><img src="images/logo.png" alt="logo.png" />
</p>
</div>
</div>

<center>
<h1>Usage</h1>
</center>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><a href="#org562c882">Readme</a></td>
</tr>

<tr>
<td class="org-left"><a href="#orgb68aa3d">Improving ssh security</a></td>
</tr>

<tr>
<td class="org-left"><a href="#orgfe97aad">Administrating the system via an onion address (Tor)</a></td>
</tr>

<tr>
<td class="org-left"><a href="./mobile.html">Mobile advice</a></td>
</tr>

<tr>
<td class="org-left"><a href="./usage_email.html">Using Email</a></td>
</tr>

<tr>
<td class="org-left"><a href="./app_syncthing.html">Syncing to the Cloud</a></td>
</tr>

<tr>
<td class="org-left"><a href="./app_dlna.html">Play Music</a></td>
</tr>

<tr>
<td class="org-left"><a href="./app_gnusocial.html">Microblogging (GNU Social)</a></td>
</tr>

<tr>
<td class="org-left"><a href="./app_hubzilla.html">Social Network</a></td>
</tr>

<tr>
<td class="org-left"><a href="./app_irc.html">Multi-user chat with IRC</a></td>
</tr>

<tr>
<td class="org-left"><a href="./app_xmpp.html">XMPP/Jabber</a></td>
</tr>

<tr>
<td class="org-left"><a href="./app_tox.html">Tox</a></td>
</tr>

<tr>
<td class="org-left"><a href="#org7bed4a6">Chat Services</a></td>
</tr>

<tr>
<td class="org-left"><a href="#orgdbb1461">RSS Reader</a></td>
</tr>

<tr>
<td class="org-left"><a href="#org6129622">Git Projects</a></td>
</tr>

<tr>
<td class="org-left"><a href="#orgdc5032c">Adding or removing users</a></td>
</tr>

<tr>
<td class="org-left"><a href="#org2763587">Blocking Ads</a></td>
</tr>
</tbody>
</table>

<div id="outline-container-org562c882" class="outline-2">
<h2 id="org562c882">Readme</h2>
<div class="outline-text-2" id="text-org562c882">
<p>
After the system has installed a README file will be generated which contains passwords and some brief advice on using the installed systems. You can read this with the following commands:
</p>

<div class="org-src-container">
<pre class="src src-bash">ssh username@domainname -p 2222
emacs ~/README
</pre>
</div>

<p>
You should transfer any passwords to a password manager such as <a href="https://www.keepassx.org/">KeepassX</a> and then delete them from the README file. To save the file after removing passwords use <b>CTRL-x CTRL-s</b>.
</p>

<p>
To exit you can either just close the terminal or use <b>CTRL-x CTRL-c</b> followed by the <b>exit</b> command.
</p>
</div>
</div>
<div id="outline-container-orgb68aa3d" class="outline-2">
<h2 id="orgb68aa3d">Improving ssh security</h2>
<div class="outline-text-2" id="text-orgb68aa3d">
<p>
To improve ssh security you can generate an ssh key pair on your system and then upload the public key to the Freedombone.
</p>

<p>
On your local machine:
</p>

<div class="org-src-container">
<pre class="src src-bash">ssh-keygen
</pre>
</div>

<p>
For extra security you may also want to add a passphrase to the ssh private key. You can show the generated public key with:
</p>

<div class="org-src-container">
<pre class="src src-bash">cat ~/.ssh/id_rsa.pub
</pre>
</div>

<p>
Log into your system and open the control panel.
</p>

<div class="org-src-container">
<pre class="src src-bash">ssh username@domain -p 2222
</pre>
</div>

<p>
Select <i>Administrator controls</i> then <i>Manage Users</i> then <i>Change user ssh public key</i>. Copy and paste the public key here, then exit.
</p>

<p>
It's a good idea to also copy the contents of <b>~/.ssh/id_rsa</b> and <b>~/.ssh/id_rsa.pub</b> to you password manager, together with the private key password if you created one.
</p>

<p>
There are advantages and disadvantages to using ssh keys for logins. The advantage is that this is much more secure than a memorised password, but the disadvantage is that you need to carry your ssh keys around and be able to install them on any computer of mobile device that you use. In high security or hostile infosec environments it may not be possible to carry or use USB thumb drives containing your keys and so memorised passwords may be the only available choice.
</p>

<p>
If you wish to only use ssh keys then log in to the Freedombone, become the root user and open the control panel with the 'control' command. Select <i>Security Settings</i> then keep hitting enter until you reach the question about allowing password logins. Select "no" for that, then apply the settings. Any subsequent attempts to log in via a password will then be denied.
</p>
</div>
</div>

<div id="outline-container-orgfe97aad" class="outline-2">
<h2 id="orgfe97aad">Administrating the system via an onion address (Tor)</h2>
<div class="outline-text-2" id="text-orgfe97aad">
<p>
You can also access your system via the Tor system using an onion address. To find out what the onion address for ssh access is you can do the following:
</p>

<div class="org-src-container">
<pre class="src src-bash">ssh username@freedombone.local -p 2222
</pre>
</div>

<p>
Select <i>Administrator controls</i> then select "About this system" and look for the onion address for ssh. You can then close the terminal and open another, then do the following on your local system:
</p>

<div class="org-src-container">
<pre class="src src-bash">freedombone-client
</pre>
</div>

<p>
This will set up your ssh environment to be able to handle onion addresses. In addition if you use monkeysphere then you can do:
</p>

<div class="org-src-container">
<pre class="src src-bash">freedombone-client --ms yes
</pre>
</div>

<p>
Then you can test ssh with:
</p>

<div class="org-src-container">
<pre class="src src-bash">ssh username@address.onion -p 2222
</pre>
</div>

<p>
Subsequently even if dynamic DNS isn't working you may still be able to administer your system. Using the onion address also gives you some degree of protection against corporate or government metadata analysis, since it becomes more difficult to passively detect which systems are communicating.
</p>
</div>
</div>
<div id="outline-container-org7bed4a6" class="outline-2">
<h2 id="org7bed4a6">Chat Services</h2>
<div class="outline-text-2" id="text-org7bed4a6">
</div><div id="outline-container-org5c6e0c7" class="outline-3">
<h3 id="org5c6e0c7">VoIP (Voice and text chat)</h3>
<div class="outline-text-3" id="text-org5c6e0c7">
</div><div id="outline-container-orge21f1b3" class="outline-4">
<h4 id="orge21f1b3">Text chat</h4>
<div class="outline-text-4" id="text-orge21f1b3">
<p>
In addition to voice it is also possible to do text chat via mumble. The security of this is pretty good provided that you do it via Plumble and Orbot on mobile, but compared to other options such as XMPP/Conversations or Tox the security is not as good, since the mumble server currently doesn't support forward secrecy.
</p>
</div>
</div>
<div id="outline-container-orge371ff3" class="outline-4">
<h4 id="orge371ff3">Using with Ubuntu</h4>
<div class="outline-text-4" id="text-orge371ff3">
<p>
Within the software center search for "mumble" and install the client then run it. Skip through the audio setup wizard.
</p>

<p>
Click on "add new" to add a new server and enter the default domain name for the Freedombone, your username (which can be anything) and the VoIP server password which can be found in the README file on the Freedombone. Accept the self-signed SSL certificate. You are now ready to chat.
</p>
</div>
</div>
<div id="outline-container-orgab21ddd" class="outline-4">
<h4 id="orgab21ddd">Using with Android</h4>
<div class="outline-text-4" id="text-orgab21ddd">
<p>
Install <a href="https://f-droid.org/">F-Droid</a>
</p>

<p>
If you don't have Orbot installed then enable The Guardian Project repository from the drop down menu and install it.
</p>

<p>
Search for and install Plumble.
</p>

<p>
Press the plus button to add a Mumble server.
</p>

<p>
Enter a label (which can be any name you choose for the server), the default domain name of the Freedombone, your username (which can also be anything) and the VoIP server password which can be found in the README file on the Freedombone.
</p>

<p>
Open the settings. Select General, then Connect via Tor. This will provide better protection, making it more difficult for adversaries to know who is talking to who.
</p>

<p>
Selecting the server by pressing on it then connects you to the server so that you can chat with other connected users.
</p>

<p>
<i>Note: if you don't know the default domain name and you did a full installation then it will be the same as the wiki domain name.</i>
</p>
</div>
</div>
</div>
<div id="outline-container-orgf47f263" class="outline-3">
<h3 id="orgf47f263">SIP phones</h3>
<div class="outline-text-3" id="text-orgf47f263">
<p>
Freedombone also supports SIP phones The username and domain is the same as for your email address, and the SIP password and extension number will appear within the README file in your home directory. Various SIP client options are available, such as CSipSimple on Android and Jitsi on desktop or laptop machines. Ideally use clients which support ZRTP, which will provide the best level of security.
</p>
</div>
<div id="outline-container-org49c0d60" class="outline-4">
<h4 id="org49c0d60">About ZRTP</h4>
<div class="outline-text-4" id="text-org49c0d60">
<p>
<a href="https://jitsi.org/Documentation/ZrtpFAQ">ZRTP</a> appears to be the current best standard to end-to-end encrypted voice calls, combining good security with simplicity of use. When the initial cryptographic negotiation between phones is done at the start of a call a short authentication string (SAS) is calculated and displayed at both ends. To check that there isn't anyone intercepting the call and acting as a <i>man in the middle</i> - as <a href="https://en.wikipedia.org/wiki/Stingray_phone_tracker">stingray type devices</a> try to do - the short authentication string can be read out and verbally confirmed between the callers. If it's the same then you can be pretty confident that the call is secure.
</p>
</div>
</div>
<div id="outline-container-org71f1235" class="outline-4">
<h4 id="org71f1235">Using with CSIPSimple</h4>
<div class="outline-text-4" id="text-org71f1235">
<p>
Add an account. Under <b>General Wizards</b> choose <b>Expert</b> and enter the following details:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Account name</td>
<td class="org-left">Your username</td>
</tr>

<tr>
<td class="org-left">Account ID</td>
<td class="org-left">sip:username@yourdomain</td>
</tr>

<tr>
<td class="org-left">Registration URI</td>
<td class="org-left">sip:yourdefaultdomain</td>
</tr>

<tr>
<td class="org-left">Realm</td>
<td class="org-left">*</td>
</tr>

<tr>
<td class="org-left">Username</td>
<td class="org-left">Your username</td>
</tr>

<tr>
<td class="org-left">Data (Password)</td>
<td class="org-left">Your SIP password</td>
</tr>

<tr>
<td class="org-left">ZRTP Mode</td>
<td class="org-left">Create ZRTP</td>
</tr>
</tbody>
</table>

<p>
If everything is working the account should appear in green with a status of <b>Registered</b>.
</p>
</div>
</div>
<div id="outline-container-org8ff21ba" class="outline-4">
<h4 id="org8ff21ba">Using with Ring</h4>
<div class="outline-text-4" id="text-org8ff21ba">
<p>
From the menu select <b>Manage accounts</b>.
</p>

<p>
Add an account with the following details:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Alias</td>
<td class="org-left">Your full name or nickname</td>
</tr>

<tr>
<td class="org-left">Protocol</td>
<td class="org-left">SIP</td>
</tr>

<tr>
<td class="org-left">Hostname</td>
<td class="org-left">yourdefaultdomain</td>
</tr>

<tr>
<td class="org-left">Username</td>
<td class="org-left">Your username</td>
</tr>

<tr>
<td class="org-left">Password</td>
<td class="org-left">Your SIP password</td>
</tr>
</tbody>
</table>

<p>
Select the <b>Security</b> tab. Under <b>SRTP Key Exchange</b> select <b>ZRTP</b>. Unde <b>SRTP Preferences</b> select <b>Not supported warning</b> and <b>Display SAS Once</b>.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgdbb1461" class="outline-2">
<h2 id="orgdbb1461">RSS Reader</h2>
<div class="outline-text-2" id="text-orgdbb1461">
<p>
The way that RSS reading is set up on Freedombone gives you strong reading privacy. Not only is there onion routing between you and the server but also between the server and the source of the RSS feed. The only down side is that many RSS feeds are still http only, and so could be vulnerable to injection attacks, but it's expected that more of this will go to https in the foreseeable future due to a combination of growing recognition of security issues and systems like Let's Encrypt which make obtaining certificates much easier.
</p>


<div class="figure">
<p><img src="images/rss_reader_mobile.jpg" alt="rss_reader_mobile.jpg" />
</p>
</div>
</div>

<div id="outline-container-org685f850" class="outline-3">
<h3 id="org685f850">Finding the onion address</h3>
<div class="outline-text-3" id="text-org685f850">
<p>
See the control panel for the RSS reader onion address.
</p>

<div class="org-src-container">
<pre class="src src-bash">ssh username@domainname -p 2222
</pre>
</div>

<p>
Select <i>Administrator controls</i> then select the <b>About</b> screen.
</p>

<p>
The RSS reader is accessible only via an onion address. This provides a reasonable degree of reading privacy, making it difficult for passive adversaries such as governments, corporations or criminals to create lists of sites which you are subscribed to.
</p>

<p>
To set up the system open <a href="http://rss_reader_onion_address">http://rss_reader_onion_address</a> and log in with username <b>admin</b> and the password obtained either at the beginning of the install or from the README file in your home directory. You can then select the <b>Actions</b> menu and begin adding your feeds.
</p>
</div>
</div>

<div id="outline-container-org20ed7a9" class="outline-3">
<h3 id="org20ed7a9">On mobile</h3>
<div class="outline-text-3" id="text-org20ed7a9">
<p>
To access the RSS reader from a mobile device you can install a Tor compatible browser such as OrFox. It will try to automatically change to the mobile version of the user interface. Remember to add the site to the NoScript whitelist, and you may also need to turn HTTPS Everywhere off.
</p>

<blockquote>
<p>
A note for the paranoid is that on mobile devices you get redirected to a different onion address which is specially set up for the mobile interface, so don't be alarmed that it looks like your connection is being hijacked.
</p>
</blockquote>
</div>
</div>
<div id="outline-container-org36450a7" class="outline-3">
<h3 id="org36450a7">With Emacs</h3>
<div class="outline-text-3" id="text-org36450a7">
<p>
If you are an Emacs user then you can also read your RSS feeds via the <a href="https://github.com/dk87/avandu">Avandu</a> mode.
</p>

<p>
Add the following to your configuration, changing the address and password as appropriate.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> avandu-tt-rss-api-url <span class="org-string">"http://rss_reader_onion_address/api/"</span>
      avandu-user <span class="org-string">"admin"</span>
      avandu-password <span class="org-string">"mypassword"</span>)
</pre>
</div>

<p>
If you don't already have Emacs set up to route through Tor then also add the following:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> socks-noproxy '(<span class="org-string">"localhost"</span>))
(<span class="org-keyword">require</span> '<span class="org-constant">socks</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">tls</span>)
(<span class="org-keyword">setq</span> socks-server (list <span class="org-string">"Tor socks"</span> <span class="org-string">"localhost"</span> 9050 5))
</pre>
</div>

<p>
And ensure that the Tor daemon is installed:
</p>

<div class="org-src-container">
<pre class="src src-bash">sudo apt-get install tor
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org6129622" class="outline-2">
<h2 id="org6129622">Git Projects</h2>
<div class="outline-text-2" id="text-org6129622">
<p>
Github is ok, but it's proprietary and funded by venture capital. If you been around on the internet for long enough then you know how this story eventually works itself out - i.e. badly for the users. It's really only a question of time. If you're a software developer or do things which involve the Git version control system then it's a good idea to become accustomed to hosting your own repositories, before the inevitable Github shitstorm happens.
</p>

<p>
A Git hosting system called <a href="https://gogs.io">Gogs</a> can optionally be installed. This is very similar to Github in appearance and use. It's lightweight and so well suited for use on low power ARM servers.
</p>

<p>
Navigate to your git site and click the <b>Register</b> button. The first user registered on the system becomes the administrator. Once you've done that then it's a good idea to disable further registrations. Currently that's a little complicated, but you can do it as follows:
</p>

<div class="org-src-container">
<pre class="src src-bash">sudo username@domainname -p 2222
</pre>
</div>

<p>
Select <b>Exit to the comand line</b>.
</p>

<div class="org-src-container">
<pre class="src src-bash">sudo su
sed -i <span class="org-string">"s|DISABLE_REGISTRATION =.*|DISABLE_REGISTRATION = true|g"</span> /home/gogs/custom/conf/app.ini
sed -i <span class="org-string">"s|SHOW_REGISTRATION_BUTTON =.*|SHOW_REGISTRATION_BUTTON = false|g"</span> /home/gogs/custom/conf/app.ini
systemctl restart gogs
<span class="org-keyword">exit</span>; <span class="org-keyword">exit</span>
</pre>
</div>

<p>
This will stop any spam accounts being created by random strangers or bots. You might want to mirror existing repos, and at any time a mirror can be converted into the main repo.
</p>
</div>
</div>
<div id="outline-container-orgdc5032c" class="outline-2">
<h2 id="orgdc5032c">Adding or removing users</h2>
<div class="outline-text-2" id="text-orgdc5032c">
<p>
Log into the system with:
</p>

<div class="org-src-container">
<pre class="src src-bash">ssh username@domainname -p 2222
</pre>
</div>

<p>
Select <b>Administrator controls</b> then <b>User Management</b>. Depending upon the type of installation after selecting administrator controls you might need to enter:
</p>

<div class="org-src-container">
<pre class="src src-bash">sudo su
control
</pre>
</div>


<div class="figure">
<p><img src="images/controlpanel/control_panel_manage_users.jpg" alt="control_panel_manage_users.jpg" />
</p>
</div>
</div>
</div>

<div id="outline-container-org2763587" class="outline-2">
<h2 id="org2763587">Blocking Ads</h2>
<div class="outline-text-2" id="text-org2763587">
<p>
Everyone except for advertisers hates adverts. Not only are they annoying, but they can consume a lot of bandwidth, be a privacy problem in terms of allowing companies to track your browsing habits and also any badly written scripts they contain may introduce exploitable security holes. Also if you're poor then adverts often make you want things that you can't have.
</p>

<p>
You can block ads for any devices connected to your local network by installing the <b>pihole</b> app from <b>Add/Remove Apps</b> on the administrator control panel. This may help to improve overall performance of your devices by not wasting time downloading unwanted images or scripts.
</p>

<p>
Also don't expect perfection. Though many ads may be blocked by this system some will still get through. It's a constant cat and mouse game between advertisers and blockers.
</p>
</div>

<div id="outline-container-orgceab5b5" class="outline-3">
<h3 id="orgceab5b5">Set a static IP address</h3>
<div class="outline-text-3" id="text-orgceab5b5">
<p>
Ensure that your system has a static local IP address (typically 192.168..) using the option on the control panel. You will also need to know the IP address of your internet router, which is usually <b>192.168.1.1</b> or <b>192.168.1.254</b>.
</p>

<p>
When that's done select <b>About this system</b> from the control panel and see the IPv4 address. You can use this as a DNS address in two ways:
</p>
</div>
</div>

<div id="outline-container-orgf8d50c1" class="outline-3">
<h3 id="orgf8d50c1">On each client system within your local network</h3>
<div class="outline-text-3" id="text-orgf8d50c1">
<div class="org-src-container">
<pre class="src src-bash">sudo chattr -i /etc/resolv.conf
sudo nano /etc/resolv.conf
</pre>
</div>

<p>
Comment out any existing entries with a # character and add:
</p>

<div class="org-src-container">
<pre class="src src-bash">nameserver [IPv4 address from the About screen]
</pre>
</div>

<p>
Normally <i>resolv.conf</i> will be overwritten every time your reboot, but you can prevent this with:
</p>

<div class="org-src-container">
<pre class="src src-bash">sudo chattr +i /etc/resolv.conf
</pre>
</div>
</div>
</div>

<div id="outline-container-org9768899" class="outline-3">
<h3 id="org9768899">On your internet router</h3>
<div class="outline-text-3" id="text-org9768899">
<p>
If you can access the settings on your local internet router then this is the simplest way to provide ad blocking for all devices which connect to it. Unfortunately some router models don't let you edit the DNS settings and if that's the case you might want to consider getting a different router.
</p>

<p>
Edit the DNS settings and add the IPv4 address which you got from the control panel About screen. Exactly how you do this will just depend upon your particular router model. You may also need to set the same address twice, because two addresses are conventional.
</p>
</div>

<div id="outline-container-orgecb62df" class="outline-4">
<h4 id="orgecb62df">LibreCMC</h4>
<div class="outline-text-4" id="text-orgecb62df">
<p>
On a router running LibreCMC from the <b>Network</b> menu select <b>DHCP and DNS</b>. Enter the static IP address of your Freedombone system within <b>DNS Forwardings</b>, then at the bottom of the page click on <b>Save &amp; Apply</b>. Any devices which connect to your router will now have ad blocking.
</p>
</div>
</div>
</div>

<div id="outline-container-org3975c3a" class="outline-3">
<h3 id="org3975c3a">Configuring block lists</h3>
<div class="outline-text-3" id="text-org3975c3a">
<p>
You can configure the block lists which the system uses by going to the <b>administrator control panel</b>, selecting <b>App Settings</b> then choosing <b>pihole</b>. You can also add any extra domain names to the whitelist if they're being wrongly blocked or to the blacklist if they're not blocked by the current lists.
</p>



<center>
Return to the <a href="index.html">home page</a>
</center>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">

<style type="text/css">
.back-to-top {
    position: fixed;
    bottom: 2em;
    right: 0px;
    text-decoration: none;
    color: #000000;
    background-color: rgba(235, 235, 235, 0.80);
    font-size: 12px;
    padding: 1em;
    display: none;
}

.back-to-top:hover {
    background-color: rgba(135, 135, 135, 0.50);
}
</style>

<div class="back-to-top">
<a href="#top">Back to top</a> | <a href="mailto:bob@freedombone.net">E-mail me</a>
</div>
</div>
</body>
</html>
